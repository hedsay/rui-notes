(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{461:function(v,_,t){"use strict";t.r(_);var s=t(4),r=Object(s.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h2",{attrs:{id:"与http区别"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#与http区别"}},[v._v("#")]),v._v(" 与HTTP区别？")]),v._v(" "),_("ul",[_("li",[v._v("HTTP 是超文本传输协议，信息是明文传输，存在安全风险的问题。HTTPS 则解决 HTTP 不安全的缺陷，在 TCP 和 HTTP 网络层之间加入了 SSL/TLS 安全协议，使得报文能够加密传输。")]),v._v(" "),_("li",[v._v("HTTP 连接建立相对简单， TCP 三次握手之后便可进行 HTTP 的报文传输。而 HTTPS 在 TCP 三次握手之后，还需进行 SSL/TLS 的握手过程，才可进入加密报文传输。")]),v._v(" "),_("li",[v._v("两者的默认端口不一样，HTTP 默认端口号是 80，HTTPS 默认端口号是 443。")]),v._v(" "),_("li",[v._v("HTTPS 协议需要向 CA（证书权威机构）申请数字证书，来保证服务器的身份是可信的。")])]),v._v(" "),_("h2",{attrs:{id:"https解决了http明文传输哪些风险"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#https解决了http明文传输哪些风险"}},[v._v("#")]),v._v(" HTTPS解决了HTTP明文传输哪些风险？")]),v._v(" "),_("ul",[_("li",[v._v("窃听风险：通信使用明文（不加密），内容可能会被窃听。比如，"),_("strong",[v._v("账号信息容易泄漏，那你号没了。")])]),v._v(" "),_("li",[v._v("冒充风险：不验证通信方的身份，因此有可能遭遇伪装。比如，"),_("strong",[v._v("访问假的淘宝、拼多多，那你钱没了。")])]),v._v(" "),_("li",[v._v("篡改风险：无法证明报文的完整性，所以有可能已遭篡改。比如，"),_("strong",[v._v("网页上植入垃圾广告，视觉污染，眼没了。")])])]),v._v(" "),_("h2",{attrs:{id:"https解决方案"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#https解决方案"}},[v._v("#")]),v._v(" HTTPS解决方案")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("混合加密")]),v._v("的方式实现信息的"),_("strong",[v._v("机密性")]),v._v("，解决了窃听的风险。")]),v._v(" "),_("li",[_("strong",[v._v("摘要算法")]),v._v("的方式来实现"),_("strong",[v._v("完整性")]),v._v("，它能够为数据生成独一无二的「指纹」，指纹用于校验数据的完整性，解决了篡改的风险。")]),v._v(" "),_("li",[v._v("将服务器公钥放入到"),_("strong",[v._v("数字证书")]),v._v("中，解决了冒充的风险。")])]),v._v(" "),_("h3",{attrs:{id:"混合加密"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#混合加密"}},[v._v("#")]),v._v(" 混合加密")]),v._v(" "),_("p",[v._v("HTTPS 采用的是"),_("strong",[v._v("对称加密")]),v._v("和"),_("strong",[v._v("非对称加密")]),v._v("结合的「混合加密」方式")]),v._v(" "),_("ul",[_("li",[v._v("在通信建立前采用"),_("strong",[v._v("非对称加密")]),v._v("的方式交换「会话秘钥」，后续就不再使用非对称加密。")]),v._v(" "),_("li",[v._v("在通信过程中全部使用"),_("strong",[v._v("对称加密")]),v._v("的「会话秘钥」的方式加密明文数据。")])]),v._v(" "),_("blockquote",[_("p",[v._v("采用「混合加密」的方式的原因：")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("对称加密")]),v._v("只使用一个密钥，运算速度快，密钥必须保密，无法做到安全的密钥交换。")]),v._v(" "),_("li",[_("strong",[v._v("非对称加密")]),v._v("使用两个密钥：公钥和私钥，公钥可以任意分发而私钥保密，解决了密钥交换问题但速度慢。")])]),v._v(" "),_("blockquote",[_("p",[v._v("客户端从CA获得服务器公钥，RSA服务器对公钥加密pre-master发送给服务端，服务端私钥解密取出pre-master，用premaster+客户端随机数+服务端随机数生成"),_("strong",[v._v("会话密钥")]),v._v("，后续的对称加密都用这个会话密钥；")])])]),v._v(" "),_("h3",{attrs:{id:"摘要算法-数字签名"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#摘要算法-数字签名"}},[v._v("#")]),v._v(" 摘要算法+数字签名")]),v._v(" "),_("p",[_("strong",[v._v("摘要算法")]),v._v("：（消息完整性）"),_("strong",[v._v("用摘要算法（哈希函数）来计算出内容的哈希值")]),v._v("，也就是内容的「指纹」，这个"),_("strong",[v._v("哈希值是唯一的，且无法通过哈希值推导出内容")]),v._v("；")]),v._v(" "),_("blockquote",[_("p",[v._v("通过哈希算法可以确保内容不会被篡改，"),_("strong",[v._v("但是并不能保证「内容 + 哈希值」不会被中间人替换，因为这里缺少对客户端收到的消息是否来源于服务端的证明")])]),v._v(" "),_("p",[v._v("（请假条有请假内容和家长签字，然是签字可能伪造）")]),v._v(" "),_("p",[v._v("（服务端发送的哈希值被别人篡取，但是修改了内容，客户端不知道，只比较哈希值）")])]),v._v(" "),_("p",[_("strong",[v._v("数字签名")]),v._v("：（消息来源可靠性）通过非对称加密(服务端"),_("strong",[v._v("私钥加密")]),v._v("，客户端"),_("strong",[v._v("公钥解密")]),v._v(")，确认消息身份；私钥加密的是对内容的哈希值；")]),v._v(" "),_("blockquote",[_("p",[v._v("（签字伪造，需要打电话跟家长确认）")]),v._v(" "),_("p",[v._v("公钥与私钥可以双向加解密，可以用公钥加密内容，然后用私钥解密，也可以用私钥加密内容，公钥解密内容；")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("公钥加密，私钥解密")]),v._v("。这个目的是为了"),_("strong",[v._v("保证内容传输的安全")]),v._v("，因为被公钥加密的内容，其他人是无法解密的，只有持有私钥的人，才能解密出实际的内容；")]),v._v(" "),_("li",[_("strong",[v._v("私钥加密，公钥解密")]),v._v("。这个目的是为了"),_("strong",[v._v("保证消息不会被冒充")]),v._v("，因为私钥是不可泄露的，如果公钥能正常解密出私钥加密的内容，就能证明这个消息是来源于持有私钥身份的人发送的。")])])]),v._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.xiaolincoding.com/gh/xiaolincoder/ImageHost/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/HTTP/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D.png",alt:"img"}})]),v._v(" "),_("h3",{attrs:{id:"数字证书"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数字证书"}},[v._v("#")]),v._v(" 数字证书")]),v._v(" "),_("blockquote",[_("p",[v._v("保证服务器公钥身份，解决冒充风险；")]),v._v(" "),_("p",[v._v("数字证书有什么？")]),v._v(" "),_("blockquote",[_("p",[v._v("公钥，文件的数字签名及使用算法，有效期等；")])])]),v._v(" "),_("p",[v._v("服务器将自己的公钥注册到CA；")]),v._v(" "),_("p",[_("strong",[v._v("CA")]),v._v("用自己的"),_("strong",[v._v("私钥")]),v._v("将服务器的公钥数字签名并颁发数字证书（服务器公钥+CA数字签名）；")]),v._v(" "),_("p",[_("strong",[v._v("客户端")]),v._v("拿到服务器的数字证书后，使用CA"),_("strong",[v._v("公钥")]),v._v("确认服务器的数字证书的真实性，从数字证书获取服务器公钥后，使用它对报文加密后发送；")]),v._v(" "),_("p",[_("strong",[v._v("服务器用私钥")]),v._v("对报文解密；")]),v._v(" "),_("blockquote",[_("p",[v._v("服务端一般私钥加密发送，客户端公钥解密，保证消息不被冒充；")]),v._v(" "),_("p",[v._v("客户端公钥加密发送，服务端私钥解密，保证传输安全；")])]),v._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.xiaolincoding.com/gh/xiaolincoder/ImageHost/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/HTTP/22-%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B.png",alt:"数子证书工作流程"}})]),v._v(" "),_("h2",{attrs:{id:"密钥交换算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#密钥交换算法"}},[v._v("#")]),v._v(" 密钥交换算法")]),v._v(" "),_("p",[v._v("RSA")]),v._v(" "),_("p",[v._v("ECDHE")]),v._v(" "),_("h2",{attrs:{id:"https优化"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#https优化"}},[v._v("#")]),v._v(" HTTPS优化")]),v._v(" "),_("ol",[_("li",[v._v("密钥交换算法优化")]),v._v(" "),_("li",[v._v("证书优化")]),v._v(" "),_("li",[v._v("会话重用")])])])}),[],!1,null,null,null);_.default=r.exports}}]);