(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{482:function(v,_,t){"use strict";t.r(_);var l=t(4),a=Object(l.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h2",{attrs:{id:"什么是线程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#什么是线程"}},[v._v("#")]),v._v(" 什么是线程？")]),v._v(" "),_("blockquote",[_("p",[v._v("线程是进程中一条执行流程，同一个进程内多个线程共享地址空间和文件等资源，每个线程有自己的寄存器和栈；")])]),v._v(" "),_("h2",{attrs:{id:"为什么需要线程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要线程"}},[v._v("#")]),v._v(" 为什么需要线程？")]),v._v(" "),_("ol",[_("li",[_("p",[v._v("线程创建时间，终止时间比进程快；")]),v._v(" "),_("blockquote",[_("p",[v._v("进程在创建过程中，需要资源管理信息，如：内存管理信息，文件管理信息；")]),v._v(" "),_("p",[v._v("线程创建过程中，只需要共享这些资源信息；")])])]),v._v(" "),_("li",[_("p",[v._v("线程切换比进程切换快；")]),v._v(" "),_("blockquote",[_("p",[v._v("线程具有相同的地址空间（虚拟内存共享），同一个进程的线程都具有同一个页表，切换的时候不需要切换页表；")])])]),v._v(" "),_("li",[_("p",[v._v("线程之间数据交互效率高；")]),v._v(" "),_("blockquote",[_("p",[v._v("同一进程各线程间共享内存和文件资源，线程之间数据传递时，不需要经过内核；")])])])]),v._v(" "),_("h2",{attrs:{id:"线程上下文切换"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#线程上下文切换"}},[v._v("#")]),v._v(" 线程上下文切换")]),v._v(" "),_("ul",[_("li",[v._v("当两个线程不属于同一个进程：同切换进程；")]),v._v(" "),_("li",[v._v("当属于同一个进程：因为虚拟线程是共享的，所以虚拟内存资源保持不动，只需要切换线程的私有数据，寄存器等不共享数据；")])]),v._v(" "),_("h2",{attrs:{id:"死锁"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#死锁"}},[v._v("#")]),v._v(" 死锁")]),v._v(" "),_("ul",[_("li",[_("p",[v._v("互斥条件；")]),v._v(" "),_("blockquote",[_("p",[v._v("多个线程不能使用同一个资源；")])])]),v._v(" "),_("li",[_("p",[v._v("持有并等待条件；")]),v._v(" "),_("blockquote",[_("p",[v._v("当线程 A 已经持有了资源 1，又想申请资源 2，而资源 2 已经被线程 B持有了，所以线程 A 就会处于等待状态；")]),v._v(" "),_("p",[v._v("线程 A 在等待时不会释放自己的资源；")])])]),v._v(" "),_("li",[_("p",[v._v("不可剥夺条件；")]),v._v(" "),_("blockquote",[_("p",[v._v("线程持有的资源在使用期间不能被其它线程获取；")])])]),v._v(" "),_("li",[_("p",[v._v("环路等待条件；")]),v._v(" "),_("blockquote",[_("p",[v._v("线程 A 已经持有资源 2，而想请求资源 1， 线程 B 已经获取了资源 1，而想请求资源 2，这就形成资源请求等待的环形图；")])])])]),v._v(" "),_("p",[v._v("解决方法：")]),v._v(" "),_("ol",[_("li",[v._v("顺序加锁；")]),v._v(" "),_("li",[v._v("锁超时释放；")])])])}),[],!1,null,null,null);_.default=a.exports}}]);